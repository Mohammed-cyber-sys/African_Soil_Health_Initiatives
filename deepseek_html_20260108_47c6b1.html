<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="African Soil Health Initiatives - AI-powered soil health advisory for Ethiopian farmers">
    <meta name="keywords" content="soil health, agriculture, Ethiopia, AI advisor, farmers, Haramaya, Metta, Dire Dawa">
    <meta name="author" content="Mohammed - Project Coordinator">
    
    <title>African Soil Health Initiatives</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="images/icons/favicon.ico">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    
    <!-- Amharic/Oromic Font Support -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Ethiopic:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Weather Widget API -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
</head>
<body>
    <!-- Session Timer (Shows when admin is logged in) -->
    <div class="session-timer" id="session-timer">
        <i class="fas fa-clock"></i>
        <span id="session-time">15:00</span>
    </div>

    <!-- Header Section -->
    <header>
        <div class="header-top">
            <div class="logo-container">
                <img src="images/icons/logo.png" alt="Soil Health Logo" class="logo-img">
                <div class="logo-text">
                    <h1 id="main-title">African Soil Health Initiatives</h1>
                    <p id="subtitle">Empowering Farmers with AI Technology</p>
                </div>
            </div>
            
            <div class="header-controls">
                <!-- Language Selector -->
                <div class="language-selector">
                    <i class="fas fa-language"></i>
                    <select id="language-select">
                        <option value="en">English</option>
                        <option value="am">አማርኛ</option>
                        <option value="om">Afaan Oromoo</option>
                    </select>
                </div>
                
                <!-- Location Selector -->
                <div class="location-selector">
                    <i class="fas fa-map-marker-alt"></i>
                    <select id="location-select">
                        <option value="">Select District</option>
                        <option value="haramaya">Haramaya District</option>
                        <option value="metta">Metta District</option>
                        <option value="dire-dawa">Dire Dawa</option>
                    </select>
                </div>
                
                <!-- Admin Login Button -->
                <button class="admin-btn" id="admin-login-btn">
                    <i class="fas fa-user-shield"></i>
                    <span>Admin Login</span>
                </button>
            </div>
        </div>
        
        <!-- Live Info Bar -->
        <div class="live-info-bar">
            <div class="info-item">
                <i class="fas fa-cloud-sun"></i>
                <span id="weather-info">Loading weather...</span>
            </div>
            <div class="info-item">
                <i class="fas fa-clock"></i>
                <span id="current-time">--:--:--</span>
            </div>
            <div class="info-item">
                <i class="fas fa-calendar-alt"></i>
                <span id="current-date">---</span>
            </div>
            <div class="info-item">
                <i class="fas fa-users"></i>
                <span id="active-farmers">0 Active Farmers</span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Soil Data Dashboard -->
        <section class="dashboard-section" id="dashboard">
            <div class="section-header">
                <h2 id="dashboard-title">Soil Health Dashboard</h2>
                <p id="dashboard-subtitle">Select a district to view detailed soil information</p>
            </div>
            
            <div class="dashboard-grid">
                <!-- Soil Characteristics -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <i class="fas fa-database"></i>
                        <h3 id="soil-data-title">Soil Characteristics</h3>
                    </div>
                    <div class="card-body" id="soil-characteristics">
                        <p>Please select a district to view soil data</p>
                    </div>
                </div>
                
                <!-- Recommended Crops -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <i class="fas fa-seedling"></i>
                        <h3 id="crops-title">Recommended Crops</h3>
                    </div>
                    <div class="card-body" id="recommended-crops">
                        <p>Select a district to see crop recommendations</p>
                    </div>
                </div>
                
                <!-- Weather Forecast -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <i class="fas fa-cloud-sun-rain"></i>
                        <h3 id="weather-title">Weather Forecast</h3>
                    </div>
                    <div class="card-body">
                        <div class="weather-container" id="weather-forecast">
                            <p>Weather data loading...</p>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <i class="fas fa-bolt"></i>
                        <h3 id="quick-actions-title">Quick Actions</h3>
                    </div>
                    <div class="card-body">
                        <div class="action-buttons">
                            <button class="action-btn" id="ask-ai-btn">
                                <i class="fas fa-robot"></i>
                                <span>Ask AI Advisor</span>
                            </button>
                            <button class="action-btn" id="report-issue-btn">
                                <i class="fas fa-bug"></i>
                                <span>Report Soil Issue</span>
                            </button>
                            <button class="action-btn" id="download-guide-btn">
                                <i class="fas fa-download"></i>
                                <span>Download Guide</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Soil Issues Section -->
        <section class="content-section" id="soil-issues">
            <div class="section-header">
                <h2 id="issues-title">Common Soil Issues & Solutions</h2>
                <p id="issues-subtitle">Click on any issue to see detailed recommendations</p>
            </div>
            
            <div class="issues-grid" id="issues-container">
                <!-- Issues will be loaded dynamically -->
            </div>
        </section>

        <!-- AI Chatbot Section -->
        <section class="content-section" id="ai-chatbot">
            <div class="section-header">
                <h2 id="chatbot-title">AI Soil Health Advisor</h2>
                <p id="chatbot-subtitle">Ask questions in text, voice, or upload pictures</p>
            </div>
            
            <div class="chatbot-container">
                <div class="chatbot-header">
                    <div class="chatbot-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="chatbot-info">
                        <h3>Soil AI Assistant</h3>
                        <p>Available 24/7 to help with your farming questions</p>
                    </div>
                </div>
                
                <!-- Chat Messages Container -->
                <div class="chat-messages" id="chat-messages">
                    <div class="message ai-message">
                        <div class="message-content">
                            <strong>AI Advisor:</strong>
                            <p id="welcome-message">Hello! I'm your AI soil health assistant. Select your district and ask me any questions about soil, crops, or farming practices.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Chat Input Area -->
                <div class="chat-input-area">
                    <div class="input-options">
                        <button class="input-option active" data-type="text">
                            <i class="fas fa-keyboard"></i>
                        </button>
                        <button class="input-option" data-type="voice">
                            <i class="fas fa-microphone"></i>
                        </button>
                        <button class="input-option" data-type="image">
                            <i class="fas fa-camera"></i>
                        </button>
                    </div>
                    
                    <input type="text" id="chat-input" placeholder="Type your question here..." autocomplete="off">
                    
                    <button class="send-btn" id="send-message-btn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                
                <!-- Upload Options -->
                <div class="upload-options">
                    <button class="upload-btn" id="upload-soil-btn">
                        <i class="fas fa-mountain"></i>
                        <span>Upload Soil Picture</span>
                    </button>
                    <button class="upload-btn" id="upload-crop-btn">
                        <i class="fas fa-leaf"></i>
                        <span>Upload Crop Picture</span>
                    </button>
                    <button class="upload-btn" id="voice-record-btn">
                        <i class="fas fa-microphone-alt"></i>
                        <span>Record Voice Message</span>
                    </button>
                </div>
            </div>
        </section>

        <!-- Soil Management Recommendations -->
        <section class="content-section" id="management">
            <div class="section-header">
                <h2 id="management-title">Soil Health Management</h2>
                <p id="management-subtitle">Best practices for maintaining healthy soil</p>
            </div>
            
            <div class="management-grid" id="management-container">
                <!-- Management cards will be loaded dynamically -->
            </div>
        </section>

        <!-- Farmers Map Section -->
        <section class="content-section" id="farmers-map">
            <div class="section-header">
                <h2 id="map-title">Farmers Network Map</h2>
                <p id="map-subtitle">Connect with other farmers in your area</p>
            </div>
            
            <div class="map-container">
                <div id="map" style="height: 400px; border-radius: 10px;"></div>
                <div class="map-legend">
                    <div class="legend-item">
                        <span class="legend-icon" style="background: #4CAF50;"></span>
                        <span>Active Farmer</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-icon" style="background: #FFC107;"></span>
                        <span>Soil Expert</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-icon" style="background: #2196F3;"></span>
                        <span>Extension Officer</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3><i class="fas fa-info-circle"></i> About Project</h3>
                <p id="footer-about">AI-powered soil health platform for Ethiopian farmers. Providing real-time data and recommendations.</p>
                <p><i class="fas fa-calendar-alt"></i> Project Duration: 2024-2026</p>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-map-marker-alt"></i> Districts Covered</h3>
                <ul>
                    <li>Haramaya District</li>
                    <li>Metta District</li>
                    <li>Dire Dawa</li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-envelope"></i> Contact</h3>
                <p><i class="fas fa-user"></i> Coordinator: Mohammed</p>
                <p><i class="fas fa-at"></i> Email: ayumam85@gmail.com</p>
                <p><i class="fas fa-phone"></i> Support: +251 123 456 789</p>
            </div>
            
            <div class="footer-section">
                <h3><i class="fas fa-download"></i> Resources</h3>
                <a href="#" id="download-amharic"><i class="fas fa-file-pdf"></i> Soil Guide (Amharic)</a>
                <a href="#" id="download-oromic"><i class="fas fa-file-pdf"></i> Soil Guide (Oromic)</a>
                <a href="#" id="download-calendar"><i class="fas fa-calendar"></i> Crop Calendar</a>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p id="copyright-text">© 2024 African Soil Health Initiatives. All rights reserved.</p>
            <p id="security-notice"><i class="fas fa-shield-alt"></i> Secure Platform</p>
        </div>
    </footer>

    <!-- JavaScript Files -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="js/main.js"></script>
    <script src="js/chatbot.js"></script>
    <script src="js/security.js"></script>
    <script>
        // Initialize the website
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is admin
            checkAdminSession();
            
            // Initialize time and date
            updateDateTime();
            setInterval(updateDateTime, 1000);
            
            // Load initial data
            loadInitialData();
        });
    </script>
</body>
</html>